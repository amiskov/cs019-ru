<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Nile - Accelerated Introduction to Computer Science</title>
        

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css">
        <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro:500" rel="stylesheet" type="text/css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
        <!-- MathJax -->
        <script async type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "light" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="../index.html">О курсе</a></li><li class="chapter-item expanded "><a href="../01/index.html"><strong aria-hidden="true">1.</strong> Введение в Pyret и курс</a></li><li class="chapter-item expanded "><a href="../02/index.html"><strong aria-hidden="true">2.</strong> Rainfall Problem и ФП</a></li><li class="chapter-item expanded "><a href="../03/index.html"><strong aria-hidden="true">3.</strong> Списки, сортировка, контракты</a></li><li class="chapter-item expanded "><a href="../04/index.html"><strong aria-hidden="true">4.</strong> Measuring the performance of programs</a></li><li class="chapter-item expanded "><a href="../05/index.html"><strong aria-hidden="true">5.</strong> Big-O for sorting</a></li><li class="chapter-item expanded "><a href="../06/index.html"><strong aria-hidden="true">6.</strong> Оптимизация, структурная и генеративная рекурсии</a></li><li class="chapter-item expanded "><a href="../07/index.html"><strong aria-hidden="true">7.</strong> Mutual recoursive data definitions, trees</a></li><li class="chapter-item expanded "><a href="../08/index.html"><strong aria-hidden="true">8.</strong> Sets I</a></li><li class="chapter-item expanded "><a href="../09/index.html"><strong aria-hidden="true">9.</strong> Sets II: Binary Tree, Binary Search Tree, Sets and (log n) complexity</a></li><li class="chapter-item expanded "><a href="../10/index.html"><strong aria-hidden="true">10.</strong> Balancing BSTs</a></li><li class="chapter-item expanded "><a href="../11/index.html"><strong aria-hidden="true">11.</strong> Infinity I: Lazy Sequences</a></li><li class="chapter-item expanded "><a href="../12/index.html"><strong aria-hidden="true">12.</strong> Infinity II</a></li><li class="chapter-item expanded "><a href="../13/index.html"><strong aria-hidden="true">13.</strong> Modeling State, Pong Game</a></li><li class="spacer"></li><li class="chapter-item expanded affix "><a href="../homeworks/01_docdiff.html">DocDiff</a></li><li class="chapter-item expanded affix "><a href="../homeworks/02_nile.html" class="active">Nile</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        
                    </div>

                    <h1 class="menu-title">Accelerated Introduction to Computer Science</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1><a class="header" href="#nile" id="nile">Nile</a></h1>
<p><a href="https://cs.brown.edu/courses/cs019/2018/nilenile.html">Original text</a></p>
<h2><a class="header" href="#1-introduction" id="1-introduction">1. Introduction</a></h2>
<p>You are creating Nile.com, which you hope will be the next big thing in online bookstores. You know that you can save money by anticipating what books people will buy; you will pass these savings on to your users by offering a discount if they buy books that Nile recommends.</p>
<blockquote>
<p>This assignment is meant to introduce you to the concept of <a href="https://en.wikipedia.org/wiki/Collaborative_filtering">collaborative filtering</a>.</p>
</blockquote>
<p>To do this, you offer an incentive for people to upload their lists of recommended books. From their lists, you can establish suggested pairs. A pair of books is a suggested pair if both books appear on one person’s recommendation list. Of course, some suggested pairs are more popular than others. Also, any given book is paired with some books much more frequently than with others.</p>
<h2><a class="header" href="#2-warning" id="2-warning">2. Warning</a></h2>
<p>Past students have found this assignment quite difficult relative to when it appears in the course. Think hard about decomposing the problem into simpler pieces rather than trying to solve it entirely in one step. Give yourself enough time!</p>
<h2><a class="header" href="#3-assignment" id="3-assignment">3. Assignment</a></h2>
<p>You need to organize the list of recommended books to support two tasks:</p>
<ul>
<li>recommend a Book;</li>
<li>recommend a Pair of Books.</li>
</ul>
<h3><a class="header" href="#31-recommend-a-book" id="31-recommend-a-book">3.1 Recommend a Book</a></h3>
<p>When someone buys a book, you want to be able to suggest a second book to accompany it. Specifically, you should provide the book it is most frequently paired with in the recommendation lists, along with a count of how frequent this is. Because there may be more than one book with that count, you should return a list of books (even if there is only one) as well as the count. This will be in the form of a Recommendation:</p>
<pre><code class="language-pyret">data Recommendation:
    | recommendation(count :: Number, names :: List&lt;String&gt;)
end
</code></pre>
<h3><a class="header" href="#32-recommend-a-pair-of-books" id="32-recommend-a-pair-of-books">3.2 Recommend a Pair of Books</a></h3>
<p>Sometimes, an indecisive user asks for a book recommendation. Nile offers not one recommendation at a time, but pairs of them! Wow! To support this, you must be able to identify the most popular pairs of suggested books. Return the most popular pair, with a count of how often it occurs. Again, because there may be multiple pairs with the same count, you should return a list of pairs (even if there is only one).</p>
<p>A list of recommended books is represented as a File:</p>
<pre><code class="language-pyret">data File:
    | file(name :: String, content :: String)
end
</code></pre>
<p>Each file contains a single input list, with single book descriptions on each line. That is, book descriptions will be separated by <code>&quot;\n&quot;</code>. Each book has a unique and unambiguous description; that is, if two lines in two different input lists are identical, they refer to the same book. Otherwise they refer to different books. Input lists will always contain at least two books, and they will never contain duplicates. For example, an input file could be</p>
<pre><code class="language-pyret">file(&quot;vty.txt&quot;, &quot;Crime and Punishment\nHeaps are Lame\nLord of the Flies&quot;)
</code></pre>
<h3><a class="header" href="#33-functions" id="33-functions">3.3 Functions</a></h3>
<p>Define the following functions:</p>
<pre><code class="language-pyret">fun recommend(title :: String, book-records :: List&lt;File&gt;) -&gt; Recommendation
</code></pre>
<p><code>recommend</code> takes a book title and a list of <code>File</code>s and produces a <code>Recommendation</code>. The <code>Recommendation</code>’s names is a list of the titles of the books that are most often paired with the input book. The <code>Recommendation</code>’s count is the number of times the books in the names list are each paired with the input book. When no pairing can be found, recommend should return <code>recommendation(0,[list: ])</code>.</p>
<pre><code class="language-pyret">fun popular-pairs(records :: List&lt;File&gt;) -&gt; Recommendation
</code></pre>
<p><code>popular-pairs</code> takes a list of <code>File</code>s and produces a <code>Recommendation</code>. The <code>Recommendation</code>’s names is a list of <code>String</code>s each of which represent a pair of books. Each of these <code>String</code>s contains two titles separated by a <code>&quot;+&quot;</code>, for example <code>&quot;book1+book2&quot;</code>. Each most popular pair of books should appear exactly once and order is irrelevant. The <code>Recommendation</code>’s count is the number of times each pair occurred together in a file. When no pairing can be found, popular-pairs should return <code>recommendation(0, [list: ])</code>.</p>
<h3><a class="header" href="#34-built-ins" id="34-built-ins">3.4 Built-Ins</a></h3>
<p>For this assignment, you will need to write your own version of any built-in functions that you choose to use, other than the higher-order functions <code>map</code>, <code>filter</code>, and <code>fold</code>.</p>
<blockquote>
<p>This is to force you to practice: you should be getting able to write such functions without much difficulty. Also, studies show that <em>drill</em> is a really good way to get better at programming.</p>
</blockquote>
<p>For strings, you may only use <code>string-to-code-point</code>, <code>string-from-code-point</code>, <code>string-to-code-points</code>, and <code>string-from-code-points</code>. Built-in string functions can be recreated by operating on lists of code points. You are, however, welcome to use operators on <code>String</code>s (<code>+</code>, <code>&lt;=</code>, <code>&gt;</code>, <code>==</code>, etc.).</p>
<p>For lists, you may use <code>list.first</code>, <code>list.rest</code>, <code>map</code>, <code>filter</code>, and <code>fold</code>. You may not use any built-in functions such as <code>length</code>, <code>member</code>, <code>get</code>, <code>split-at</code>, etc. You should be able to write your own versions of these functions using link and empty.</p>
<p>When writing your own version of built-in functions, we do expect to see all the steps of design recipe, including a reasonable sample of examples (but not a detailed test suite).</p>
<h2><a class="header" href="#comments" id="comments">Comments</a></h2>
<p>Because we have not yet discussed any efficiency measures in class, you are not asked to consider the efficiency of your implementation.</p>
<p>As a reminder, you may not use a late pass for this assignment.</p>
<h2><a class="header" href="#handing-in" id="handing-in">Handing In</a></h2>
<p>You will submit two separate files, <code>nile-code.arr</code> and <code>nile-tests.arr</code>.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                            <a rel="prev" href="../homeworks/01_docdiff.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        

                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                    <a rel="prev" href="../homeworks/01_docdiff.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
            </nav>

        </div>

        

        

        
        
        
        <script type="text/javascript">
            window.playpen_copyable = true;
        </script>
        

        

        
        <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        

    </body>
</html>
